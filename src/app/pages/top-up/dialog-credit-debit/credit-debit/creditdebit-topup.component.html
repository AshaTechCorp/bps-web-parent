<app-navbar></app-navbar>
<div class="flex justify-center font-ibm w-full bg-[#F4F4F9]  h-[calc(100vh-72px)]">
	<div class="flex flex-col min-[1030px]:flex-row w-full min-[1030px]:m-[30px] min-[1030px]:justify-center">
		<div class="flex flex-col my-[30px] min-[1030px]:my-[0px]">
			<div class="flex rounded-[30px] justify-center min-[1030px]:mb-[18px] min-[1030px]:mr-[40px]">
				<ng-container *ngIf="loadsuccess == false">
					<img class="relative w-[351px] h-[200px]" src="/assets/images/logo/card/mock_card.svg" alt="card">
				</ng-container>
				<ng-container *ngIf="loadsuccess == true">
					<!-- Your SVG content -->
					<div class="w-[351px] h-[200px] px-[20px] py-[16px] rounded-[12px]" [ngStyle]="{ 'background-image': 'url(' + bgCard + ')' }">
						<div class="flex flex-col justify-between w-full h-full">
							<p class="text-[16px] font-medium leading-[32px] text-[#FFFFFF]">{{card?.name}}</p>
							<div>
								<p class="text-[14px] font-normal tracking-[0.1px] text-[#FFFFFF]">Available Balance (Baht)</p>
								<p class="text-[34px] font-medium text-[#FFFFFF]">{{card?.balance}}</p>
							</div>
							<div class="flex justify-between h-[22px] items-center">
								<div class="flex">
									<img (click)="clickForUpdateTime()" class="w-[18px] hover:cursor-pointer mr-[2px]" src="../../../../assets/images/logo/card/refresh_icon.svg" alt="">
									<p class="text-[14px] font-normal tracking-[0.1px] text-[#FFFFFF]">Updated at {{card?.update}}</p>
								</div>
							</div>
						</div>
					</div>
				</ng-container>
	  		</div>
			<div class=" hidden min-[1030px]:block">
				<button [disabled]="IsDialogOpen" class="flex items-center py-[8px] text-[#990033]" (click)="backto()">
					<img src="assets/images/logo/back_icon.svg" alt="">
					<p class="flex items-center text-lg font-medium mt-[2px]">BACK</p>
				</button>
			</div>
		</div>

		<div class="bg-white rounded-t-[20px] px-[13px] py-[20px] h-[100%] min-[1030px]:rounded-[20px] min-[1030px]:p-[30px] min-[1030px]:h-fit  min-[1030px]:w-[595px]">
			<div class="flex justify-between">
				<p class="text-[#002755] text-[23px] font-medium">Top-up</p>
				<div class="flex items-center">
					<p class="text-[#84776E] text-[12px] font-normal">Secure by K-Payment Gateway</p>
					<img class="w-[32px] h-[32px]" src="../../../../assets/images/logo/Logo_bank.svg"  alt="Logo">
				</div>
			</div>
			<p class="text-[#32373D] text-[16px] font-normal">Method: Credit</p>
			<p class="text-[#ff0018] text-[14px] min-[1030px]:text-[16px] font-normal mb-[14px]">Processing fee 2.0%</p>
			<div class="relative flex justify-between border-[1px] border-[#BFB5AC] rounded-[10px] mb-[18px]">
				<div class="p-[12px]">
					<p class="text-[16px] font-medium text-[#32373D] mb-[10px]">How to Top up</p>
					<ul class="list-disc text-[14px] font-normal pl-6">
						<li>Enter amount and press “Confirm”</li>
						<li>Enter your credit card information</li>
						<li>Press to confirm payment</li>
					</ul>
				</div>
				<div class="absolute top-0 right-0">
					<img class="w-[62px]" src="../../../../assets/images/logo/qr_code.svg" alt="qr_code">
				</div>
			</div>
			<form [formGroup]="form">
				<mat-form-field class="text-[16px] font-normal text-[#32373D] w-full" style="margin-bottom: -0.5em" (click)="select_amount(0)" [ngClass]="{'pointer-events-none': IsDialogOpen, 'pointer-events-auto': !IsDialogOpen}" >
				  <img matPrefix src="../../../../../assets/images/logo/Logo_money.svg" alt="money" class="w-[16px] ms-4">
				  <span matTextPrefix>&nbsp;&nbsp;</span>
				  <input [readonly]="IsDialogOpen" type="text" matInput formControlName="amount" placeholder="Amount" (input)="restrictToDigits($event)">
				  <span matTextSuffix class="text-[16px] font-normal text-[#32373D]">Baht</span>
				</mat-form-field>
			</form>
			<p class="text-[14px] font-normal text-[#32373D] mb-[14px]">Maximum top-up 5,000 baht</p>
			<div class="grid grid-cols-3 gap-[13px] mb-[30px]">
				<button (click)="select_amount(50)" [disabled]="IsDialogOpen" class="border-[1px] border-[#990033] pb-[8px] pt-[11px] rounded-[30px] text-[16px] font-medium {{currentTextColor[0]}} {{currentColor[0]}} "> 50 </button>
				<button (click)="select_amount(100)" [disabled]="IsDialogOpen" class="border-[1px] border-[#990033] pb-[8px] pt-[11px] rounded-[30px] text-[16px] font-medium {{currentTextColor[1]}} {{currentColor[1]}}"> 100 </button>
				<button (click)="select_amount(200)" [disabled]="IsDialogOpen" class="border-[1px] border-[#990033] pb-[8px] pt-[11px] rounded-[30px] text-[16px] font-medium {{currentTextColor[2]}} {{currentColor[2]}}"> 200 </button>
				<button (click)="select_amount(300)" [disabled]="IsDialogOpen" class="border-[1px] border-[#990033] pb-[8px] pt-[11px] rounded-[30px] text-[16px] font-medium {{currentTextColor[3]}} {{currentColor[3]}}"> 300 </button>
				<button (click)="select_amount(500)" [disabled]="IsDialogOpen" class="border-[1px] border-[#990033] pb-[8px] pt-[11px] rounded-[30px] text-[16px] font-medium {{currentTextColor[4]}} {{currentColor[4]}}"> 500 </button>
				<button (click)="select_amount(1000)" [disabled]="IsDialogOpen" class="border-[1px] border-[#990033] pb-[8px] pt-[11px] rounded-[30px] text-[16px] font-medium {{currentTextColor[5]}} {{currentColor[5]}}"> 1,000 </button>
			</div>
			
			<div class="flex justify-end">
				<button (click)="nextto()" [disabled]="IsDialogOpen || canTopUp" [ngClass]="{'opacity-50': canTopUp, 'opacity-100': !canTopUp}" class="w-full min-[1030px]:w-[257.5px] h-[52px] bg-[#990033] rounded-[30px] px-[16px] py-[10px] text-[16px] font-medium text-[#FFFFFF]">CONFIRM</button>
			</div>
		</div>
	</div>
</div>


